--// Fly, Speed, Infinite Jump Script
-- LocalScript

-- SETTINGS
local flySpeed = 50   -- Fly speed
local walkSpeed = 50  -- Walk speed

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

--// Infinite Jump
UIS.JumpRequest:Connect(function()
	humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
end)

--// WalkSpeed lock
humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
	humanoid.WalkSpeed = walkSpeed
end)
humanoid.WalkSpeed = walkSpeed

--// Fly
local flying = false
local bodyVelocity, bodyGyro

local function startFlying()
	if flying then return end
	flying = true
	local root = character:WaitForChild("HumanoidRootPart")
	bodyVelocity = Instance.new("BodyVelocity")
	bodyVelocity.MaxForce = Vector3.new(1e5,1e5,1e5)
	bodyVelocity.Parent = root

	bodyGyro = Instance.new("BodyGyro")
	bodyGyro.MaxTorque = Vector3.new(1e5,1e5,1e5)
	bodyGyro.P = 1e4
	bodyGyro.CFrame = root.CFrame
	bodyGyro.Parent = root

	RunService.RenderStepped:Connect(function()
		if flying then
			local moveDir = Vector3.zero
			if UIS:IsKeyDown(Enum.KeyCode.W) then
				moveDir += workspace.CurrentCamera.CFrame.LookVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.S) then
				moveDir -= workspace.CurrentCamera.CFrame.LookVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.A) then
				moveDir -= workspace.CurrentCamera.CFrame.RightVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.D) then
				moveDir += workspace.CurrentCamera.CFrame.RightVector
			end
			if UIS:IsKeyDown(Enum.KeyCode.Space) then
				moveDir += Vector3.new(0,1,0)
			end
			if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then
				moveDir -= Vector3.new(0,1,0)
			end
			if moveDir.Magnitude > 0 then
				bodyVelocity.Velocity = moveDir.Unit * flySpeed
			else
				bodyVelocity.Velocity = Vector3.zero
			end
			bodyGyro.CFrame = workspace.CurrentCamera.CFrame
		end
	end)
end

local function stopFlying()
	flying = false
	if bodyVelocity then bodyVelocity:Destroy() bodyVelocity = nil end
	if bodyGyro then bodyGyro:Destroy() bodyGyro = nil end
end

--// Keybind: Press F to toggle Fly
UIS.InputBegan:Connect(function(input, gpe)
	if gpe then return end
	if input.KeyCode == Enum.KeyCode.F then
		if flying then
			stopFlying()
		else
			startFlying()
		end
	end
end)

print("âœ… Fly, Speed, Infinite Jump loaded! (F = Toggle Fly)")
